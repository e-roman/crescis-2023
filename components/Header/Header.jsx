"use client";

import { useEffect } from "react";
import Link from "next/link";
import { useRouter } from "next/navigation";
import { initMainMenu, initMobileMenu, initOverlayMenu } from "@/utils/FunctionsNavsite";

export default function Header() {
  useEffect(() => {
    initMainMenu();
    initMobileMenu();
    initOverlayMenu();
  }, []);

  return (
    <header id="tt-header" className="tt-header-fixed">
      <div className="tt-header-inner">
        <div className="tt-header-col">
          <div className="tt-logo">
            <a href="/">
              <div className="tt-logo-light magnetic-item">
                <svg width="100%" height="88" viewBox="0 0 482 88" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M62.7407 27.3224C62.4299 27.3224 62.1882 27.112 62.1191 26.7963C59.5294 15.2571 50.4825 9.43481 39.0532 9.43481C19.3367 9.39974 11.015 25.8844 11.015 43.4213C11.015 62.6064 19.3712 78.6001 39.1912 78.6001C53.3484 78.6001 61.8774 68.534 63.0169 54.9605C63.0169 54.6097 63.3277 54.3643 63.673 54.3643H73.3412C73.7211 54.3643 74.0319 54.715 73.9974 55.1008C71.5802 75.724 59.0115 88 38.2591 88C12.6379 88.0351 0 68.7443 0 44.2631C0 19.7816 13.6738 0 39.1569 0C56.1801 0 70.3719 9.15424 73.0996 26.5508C73.1687 26.9366 72.8579 27.3224 72.4434 27.3224H62.7061H62.7407Z" fill="white"/>
                <path d="M160.662 0H216.99C217.338 0 217.652 0.293579 217.652 0.697247V9.17429C217.652 9.54126 217.373 9.87154 216.99 9.87154H171.774C171.426 9.87154 171.112 10.1651 171.112 10.5688V37.1375C171.112 37.5045 171.391 37.8347 171.774 37.8347H213.82C214.168 37.8347 214.482 38.1285 214.482 38.5321V47.0092C214.482 47.3761 214.203 47.7063 213.82 47.7063H171.774C171.426 47.7063 171.112 47.9998 171.112 48.4035V77.4312C171.112 77.7981 171.391 78.1283 171.774 78.1283H217.338C217.686 78.1283 218 78.4218 218 78.8255V87.3025C218 87.6695 217.721 88 217.338 88H160.662C160.314 88 160 87.7062 160 87.3025V0.697247C160 0.330276 160.279 0 160.662 0Z" fill="white"/>
                <path d="M276.773 26.5263C276.43 26.5263 276.19 26.2807 276.122 25.9298C274.683 14.2105 267.041 9.33333 255.835 9.33333C246.514 9.33333 237.433 12.7368 237.433 23.6842C237.433 44.421 290 29.8246 290 62.9121C290 80.8069 272.866 88 257.925 88C239.729 88 224.343 78.9122 224 59.0176C224 58.6317 224.274 58.3508 224.651 58.3508H233.698C234.041 58.3508 234.315 58.6317 234.349 59.0176C234.691 72.6665 246.034 78.6315 258.268 78.6315C268.172 78.6315 279.069 75.4385 279.069 63.3332C279.069 40.2456 226.501 55.4386 226.501 24.5965C226.501 7.64911 241.237 0 256.281 0C272.866 0 285.615 7.92982 286.504 25.8947C286.504 26.2807 286.23 26.5965 285.854 26.5965H276.773V26.5263Z" fill="white"/>
                <path d="M356.045 27.3115C355.743 27.3115 355.509 27.1012 355.442 26.7856C352.921 15.251 344.118 9.43106 332.999 9.43106C313.814 9.43106 305.716 25.9091 305.716 43.4391C305.716 62.6166 313.846 78.6039 333.133 78.6039C346.908 78.6039 355.205 68.5418 356.314 54.9736C356.314 54.6231 356.618 54.3778 356.954 54.3778H366.36C366.731 54.3778 367.032 54.7283 366.997 55.114C364.646 75.7289 352.418 88 332.224 88C307.295 88 295 68.7169 295 44.2455C295 19.7737 308.304 0 333.098 0C349.663 0 363.47 9.1506 366.126 26.5402C366.193 26.9259 365.889 27.3115 365.488 27.3115H356.012H356.045Z" fill="white"/>
                <path d="M383.595 0H392.405C392.716 0 393 0.293824 393 0.69783V87.3022C393 87.6695 392.749 88 392.405 88H383.595C383.284 88 383 87.7063 383 87.3022V0.69783C383 0.330552 383.251 0 383.595 0Z" fill="white"/>
                <path d="M468.774 26.5263C468.431 26.5263 468.189 26.2807 468.121 25.9298C466.683 14.2105 459.04 9.33333 447.837 9.33333C438.515 9.33333 429.432 12.7368 429.432 23.6842C429.432 44.421 482 29.8246 482 62.9121C482 80.8069 464.866 88 449.925 88C431.729 88 416.343 78.9122 416 59.0176C416 58.6317 416.274 58.3508 416.65 58.3508H425.697C426.04 58.3508 426.315 58.6317 426.351 59.0176C426.691 72.6665 438.035 78.6315 450.268 78.6315C460.171 78.6315 471.068 75.4385 471.068 63.3332C471.068 40.2456 418.503 55.4386 418.503 24.5965C418.503 7.64911 433.238 0 448.281 0C464.866 0 477.615 7.92982 478.504 25.8947C478.504 26.2807 478.23 26.5965 477.854 26.5965H468.774V26.5263Z" fill="white"/>
                <path d="M124.904 51.6395C138.016 49.7662 144.954 40.4741 144.954 26.0033C144.954 9.62271 136.108 0 119.458 0H83.6589C83.3122 0 83 0.293824 83 0.69783V87.3022C83 87.6695 83.2775 88 83.6589 88H93.4065C93.7535 88 94.0657 87.7063 94.0657 87.3022V52.7045C94.0657 52.3373 94.3432 52.0068 94.7246 52.0068H113.248L134.929 87.6695C135.033 87.853 135.241 88 135.484 88H146.341C146.862 88 147.174 87.3755 146.896 86.935L124.938 51.676L124.904 51.6395ZM94.0657 42.1269V10.5409C94.0657 10.1736 94.3432 9.84306 94.7246 9.84306H115.711C128.269 9.84306 133.888 15.4992 133.888 26.0033C133.888 36.5075 128.303 42.2739 115.711 42.1636H94.0657V42.1269Z" fill="white"/>
                <path d="M409.348 0H400.655C400.294 0 400 0.294551 400 0.657895V24.3421C400 24.7054 400.294 25 400.655 25H409.348C409.708 25 410 24.7054 410 24.3421V0.657895C410 0.294551 409.708 0 409.348 0Z" fill="white"/>
                </svg>
              </div>
            </a>
          </div>
        </div>
        <div className="tt-header-col">
          <div id="tt-ol-menu-toggle-btn-wrap">
            <div className="tt-ol-menu-toggle-btn-text hide-from-sm">
              <span className="text-close">Close</span>
            </div>
            <div className="tt-ol-menu-toggle-btn-holder">
              <a href="#" className="tt-ol-menu-toggle-btn magnetic-item"> <span /> </a>
            </div>
          </div>
          <nav className="tt-overlay-menu tt-ol-menu-center tt-ol-menu-count">
            <div className="tt-ol-menu-holder">
              <div className="tt-ol-menu-inner tt-wrap-xl">
                <div className="tt-ol-menu-content">
                  <ul className="tt-ol-menu-list">
                  {[
                      { href: "/", label: "Home" },
                      { href: "/projects", label: "Projects" },
                      { href: "/about", label: "Who we Are" },
                      { href: "/contact", label: "LET’S TALK" },
                    ].map(item => (
                      <li key={item.href}>
                        <a
                          href={item.href}
                          onClick={(e) => {
                            e.preventDefault();
                            // Acá podés poner tu animación de cierre si querés
                            setTimeout(() => {
                              window.location.href = item.href;
                            }, 600);
                          }}
                        >
                          <span>{item.label}</span>
                          <span className="arrow-navlink hide-from-sm"><svg width="70" height="48" viewBox="0 0 70 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.5568 19.9733L13.781 21.4372L13.1364 19.8516L16.0516 18.7206L28.5508 6.50449L22.5777 0.666679L0 22.7329L0 25.4675L22.3726 47.3333L28.3457 41.4955L16.0516 29.4799L13.1364 28.3488L13.781 26.7632L17.5568 28.2271L70 28.0768V19.8194L17.5568 19.9697V19.9733Z" fill="#FFB2C7"></path></svg></span> 
                        </a>
                      </li>
                    ))}

                  </ul>
                </div>
              </div>
            </div>
            <div className="bg-noise" />
          </nav>
        </div>
      </div>
    </header>
  );
}
